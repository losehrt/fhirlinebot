<!-- Top Bar -->
<header class="sticky top-0 bg-white h-[70px] px-4 lg:px-6 flex items-center justify-between shadow-sm z-[900]">
  <div class="flex items-center gap-4">
    <!-- Hamburger Menu Toggle (visible on all screens) -->
    <button class="p-2 rounded-lg hover:bg-gray-100 hover:text-orange-600 transition-colors" data-action="click->sidebar#toggle">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 12h18M3 6h18M3 18h18" />
      </svg>
    </button>

    <!-- Search Bar -->
    <div class="relative hidden md:block" data-controller="search">
      <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <circle cx="11" cy="11" r="8" />
        <path d="m21 21-4.35-4.35" />
      </svg>
      <input
        type="text"
        placeholder="搜尋..."
        class="w-[300px] lg:w-[400px] pl-12 pr-4 py-3 border border-gray-200 rounded-xl bg-gray-50 text-sm focus:outline-none focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-500/10 transition-all"
        data-search-target="input"
        data-action="input->search#query"
      >
    </div>
  </div>

  <div class="flex items-center gap-2">
    <!-- Notifications -->
    <button class="relative p-2.5 rounded-lg hover:bg-gray-100 hover:text-green-600 transition-colors" title="通知">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
        <path d="M13.73 21a2 2 0 0 1-3.46 0" />
      </svg>
      <span class="absolute top-1 right-1 bg-green-500 text-white text-[10px] font-semibold px-1.5 py-0.5 rounded-full min-w-[1rem] text-center">3</span>
    </button>

    <!-- Messages -->
    <button class="p-2.5 rounded-lg hover:bg-gray-100 hover:text-green-600 transition-colors" title="訊息">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
      </svg>
    </button>

    <!-- User Menu -->
    <%= render 'shared/user_menu' %>
  </div>
</header>